ruxshona-tort/
│
├── server/
│   ├── package.json
│   ├── .env
│   ├── data/
│   │   └── ruxshona.db
│   │
│   └── src/
│       ├── server.js
│       ├── app.js
│       │
│       ├── config/
│       │   └── env.js
│       │
│       ├── db/
│       │   └── connection.js
│       │       # SQLite + barcha jadval yaratish:
│       │       # branches, users, products, sales, sale_items,
│       │       # production_batches, production_items,
│       │       # warehouse_movements, expenses, expense_items,
│       │       # transfers (keyinchalik qo‘shilgan)
│       │
│       ├── middleware/
│       │   └── auth.js              # requireAuth, requireRole
│       │
│       ├── modules/
│       │   ├── auth/
│       │   │   ├── auth.routes.js
│       │   │   ├── auth.controller.js
│       │   │   ├── auth.service.js
│       │   │   └── auth.repository.js
│       │   │
│       │   ├── branches/
│       │   │   ├── branches.routes.js
│       │   │   ├── branches.controller.js
│       │   │   ├── branches.service.js
│       │   │   └── branches.repository.js
│       │   │
│       │   ├── users/
│       │   │   ├── users.routes.js
│       │   │   ├── users.controller.js
│       │   │   ├── users.service.js
│       │   │   └── users.repository.js
│       │   │
│       │   ├── products/
│       │   │   ├── products.routes.js
│       │   │   ├── products.controller.js
│       │   │   ├── products.service.js
│       │   │   ├── products.repository.js
│       │   │   └── products.validation.js   # unit: kg/piece, category: PRODUCT/DECORATION
│       │   │
│       │   ├── sales/
│       │   │   ├── sales.routes.js
│       │   │   ├── sales.controller.js
│       │   │   ├── sales.service.js
│       │   │   └── sales.repository.js
│       │   │
│       │   ├── production/
│       │   │   ├── production.routes.js
│       │   │   ├── production.controller.js
│       │   │   ├── production.service.js
│       │   │   └── production.repository.js
│       │   │   # DB tomoni: production_batches, production_items ustida ishlaydi
│       │   │
│       │   ├── expenses/
│       │   │   ├── expenses.routes.js
│       │   │   ├── expenses.controller.js
│       │   │   ├── expenses.service.js      # validateExpenseInput (ingredients / decor / utility)
│       │   │   └── expenses.repository.js   # expenses + expense_items yozish
│       │   │
│       │   ├── transfers/
│       │   │   ├── transfers.routes.js
│       │   │   ├── transfers.controller.js
│       │   │   ├── transfers.service.js
│       │   │   └── transfers.repository.js
│       │   │   # Markaziy ombor -> filial transferlar, qabul qilish va statuslar
│       │   │
│       │   ├── warehouse/
│       │   │   ├── warehouse.routes.js
│       │   │   ├── warehouse.controller.js
│       │   │   ├── warehouse.service.js
│       │   │   └── warehouse.repository.js  # warehouse_movements dan qoldiq hisoblaydi
│       │   │
│       │   ├── history/
│       │   │   ├── history.routes.js
│       │   │   ├── history.controller.js
│       │   │   ├── history.service.js
│       │   │   └── history.repository.js    # sales + production + transfers -> umumiy activities
│       │   │
│       │   └── reports/
│       │       ├── reports.routes.js
│       │       ├── reports.controller.js
│       │       ├── reports.service.js
│       │       └── reports.repository.js    # overview: stats, topProducts, monthlySales
│       │
│       └── utils/
│           └── (hozircha bo‘sh yoki kichik helperlar bo‘lishi mumkin)
│
│
├── client/
│   ├── package.json
│   ├── vite.config.js
│   ├── index.html
│   │
│   └── src/
│       ├── main.jsx
│       ├── App.jsx                 # role-based layout: admin / branch / production
│       │                           # routes: /login, /reports, /branches, /users, /expenses,
│       │                           # /warehouse, /products, /history, /sales, /production, /transfers ...
│       │
│       ├── assets/
│       │   └── scss/
│       │       ├── main.scss
│       │       ├── _variables.scss
│       │       ├── _base.scss
│       │       ├── _layout.scss
│       │       ├── _components.scss
│       │       ├── _forms.scss
│       │       ├── _tables.scss
│       │       └── _auth.scss      # login sahifasi dizayni
│       │
│       ├── services/
│       │   └── api.js              # axios instance + token interceptor
│       │
│       ├── context/
│       │   └── AuthContext.jsx     # user, token, login(), logout()
│       │
│       ├── components/
│       │   └── PrivateRoute.jsx    # faqat login bo‘lganda sahifani ko‘rsatadi
│       │
│       ├── pages/
│       │   ├── LoginPage.jsx       # login UI (responsive, app-logo, kirish formasi)
│       │   ├── ProductsPage.jsx    # PRODUCTS: CRUD, filter (kg / dona / bezak), edit/delete, dropdown
│       │   ├── BranchesPage.jsx    # BRANCHES: CRUD (filiallar)
│       │   ├── UsersPage.jsx       # USERS: CRUD, role + branch_id (branch userlar uchun)
│       │   ├── ReportsPage.jsx     # REPORTS: stats cardlar + topProducts + monthlySales mini-chart
│       │   ├── WarehousePage.jsx   # WAREHOUSE: ombor qoldiqlari, filial filter + product dropdown qidiruv
│       │   ├── HistoryPage.jsx     # HISTORY: sale / production / transfer umumiy tarix + filterlar
│       │   ├── SalesPage.jsx       # filial sotuv kiritish (sale header + items)
│       │   ├── ProductionPage.jsx  # production userlari uchun ishlab chiqarish kiritish + tarixi
│       │   ├── ExpensesPage.jsx    # xarajatlar: ingredients / decor / utility + pastdagi jadval
│       │   └── TransfersPage.jsx   # admin uchun transfer yaratish,
│       │                           # branch userlar uchun qabul qilish interfeysi (statuslar bilan)
│       │
│       └── .env                    # VITE_API_URL = http://localhost:5000/api va boshqalar
│
└── README.md                       # loyiha haqida qisqacha info (ixtiyoriy)
